version: '2'
services:
  web:
    build: .
    image: laravel-docker:apache-5.6
    ports:
      - 80:80
    tty: true
    links:
      - db:mysql
    depends_on:
      - db
    environment:
      - DEV_NAME=laraveldocker
      - DEV_DOMAIN=laraveldocker.dev
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=laraveldocker
      - DB_DATABASE=laraveldocker
      - MYSQL_USER=laraveldocker_user
      - DB_USERNAME=laraveldocker_user
      - MYSQL_PASSWORD=laraveldocker_pass
      - DB_PASSWORD=laraveldocker_pass
      - PATH=$PATH:/root/.composer/vendor/bin/
      - LARAVEL=blog

  db:
    image: mariadb:latest
    ports:
      - 3306
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=laraveldocker
      - MYSQL_USER=laraveldocker_user
      - MYSQL_PASSWORD=laraveldocker_pass
